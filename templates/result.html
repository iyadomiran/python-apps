<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>å ã„çµæœ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>ğŸŒ· å ã„çµæœ ğŸŒ·</h1>
        <p><strong>{{ name }}ã•ã‚“</strong>ã®<span class="kikan">{{ kikan }}</span>ã®é‹å‹¢ã¯ã“ã¡ã‚‰ï¼</p>

        <!-- çµæœã‚’1æšãšã¤è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ã‚«ãƒ¼ãƒ‰ -->
        <div class="result-area">
            {% for unsei in kekka %}
                <div class="card result-card" style="display: none;">
                    <h2>{{ unsei.type }}</h2>
                    {% if unsei.type == "ç·åˆé‹" %}
                        <p>{{ unsei.message }}</p>
                        <p>ğŸ ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ : {{ unsei.item }}</p>
                        <p>ğŸµ ãƒ©ãƒƒã‚­ãƒ¼ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯: 
                            <a href="{{ unsei.music_url }}" target="_blank">{{ unsei.music }}</a>
                        </p>
                        <p style="color: {{ unsei.color }}">ğŸ¨ ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: {{ unsei.color }}</p>
                    {% else %}
                        <p>{{ unsei.message }}</p>
                    {% endif %}
                </div>
            {% endfor %}
        </div>

        <!-- æ¬¡ã¸ãƒœã‚¿ãƒ³ -->
        <div id="next-button-area">
            <button id="next-button" class="button">æ¬¡ã®çµæœã‚’è¦‹ã‚‹</button>
        </div>

        <!-- X (Twitter) ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ -->
        <a id="share-button"
           class="button"
           href="https://twitter.com/intent/tweet?text={{ name }}ã•ã‚“ã®{{ kikan }}ã®é‹å‹¢ã‚’ãƒã‚§ãƒƒã‚¯ã—ã‚ˆã†ï¼&url=https://fortune-app-clc6.onrender.com"
           target="_blank">
           Xï¼ˆæ—§Twitterï¼‰ã§ã‚·ã‚§ã‚¢ã™ã‚‹
        </a>

        <!-- ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹ãƒœã‚¿ãƒ³ -->
        <a href="/" class="button">ã‚‚ã†ä¸€åº¦å ã†</a>
    </div>

    <!-- JavaScriptï¼šå ã„çµæœã‚’1ã¤ãšã¤è¡¨ç¤ºã™ã‚‹å‡¦ç† -->
    <script>
        const cards = document.querySelectorAll('.result-card');
        const nextButton = document.getElementById('next-button');
        let currentIndex = 0;

        function showNextCard() {
            if (currentIndex < cards.length) {
                cards[currentIndex].style.display = 'block';
                currentIndex++;
                if (currentIndex === cards.length) {
                    nextButton.style.display = 'none'; // æœ€å¾Œã®ã‚«ãƒ¼ãƒ‰ã§ãƒœã‚¿ãƒ³éè¡¨ç¤º
                }
            }
        }

        // åˆå›ã«æœ€åˆã®ã‚«ãƒ¼ãƒ‰ã ã‘è¡¨ç¤º
        showNextCard();
        nextButton.addEventListener('click', showNextCard);
    </script>
</body>
</html>